
<div class="relative">
  <h2 class="mt-8 text-2xl tracking-tight leading-10 font-extrabold text-gray-900 sm:leading-none sm:text-4xl lg:text-3xl xl:text-4xl">Deployments Legend</h2>

  <div class="mt-4 mb-8 -mx-2 flex flex-wrap">
    <div *ngFor="let deployment of (deployments$ | async); let i = index" class="w-full md:w-1/2 xl:w-1/3 p-2">

      <div 
        class="mt-2 rounded-lg border border-gray-100" 
        [ngClass]="{
          'bg-white shadow hover:border-gray-200': (selectedDeployment$ | async) === deployment.id || (selectedDeployment$ | async) === null,
          'bg-gray-200 opacity-50 hover:opacity-75': (selectedDeployment$ | async) !== deployment.id && (selectedDeployment$ | async) !== null
        }"
        (click)="deploymentClicked(deployment.id)"
      > 
        <label [for]="deployment.id">
          <div class="flex items-center px-4 py-4 sm:px-6">
            <div class="min-w-0 flex-1 flex items-center">
            
              <div class="flex-shrink-0 rounded-full">
                <i class="far fa-circle fa-2x rounded-full" [ngStyle]="{ 'background-color': deployment.colour }"></i>
              </div>

              <div class="min-w-0 flex-1 flex justify-start px-4">
                  <div class="text-sm leading-5 font-medium text-indigo-600 truncate">{{ deployment.label }}</div>
              </div>
            
            </div>

          </div>
        </label>
      </div>

    </div>
  </div>
</div>